{
    "sourceFile": "frontend/src/components/Login.jsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 7,
            "patches": [
                {
                    "date": 1753432694237,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1753433600778,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -66,11 +66,11 @@\n           className=\"form-content\"\r\n           type=\"password\"\r\n           name=\"password\"\r\n           placeholder=\"Password\"\r\n-          autocomplete=\"new-password\"\r\n-          autocorrect=\"off\"\r\n-          autocapitalize=\"off\"\r\n+          autoComplete=\"new-password\"\r\n+          autoCorrect=\"off\"\r\n+          autoCapitalize=\"off\"\r\n           value={loginData.password}\r\n           onChange={handleChange}\r\n           required\r\n         />\r\n"
                },
                {
                    "date": 1753433657366,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,6 @@\n import React, { useState, useEffect } from \"react\";\r\n-import { useNavigate } from \"react-router-dom\"; // ✅ Added\r\n+import { useNavigate } from \"react-router-dom\"; // ✅ Navigation hook\r\n import \"./Login.css\";\r\n \r\n export default function Login({ onToggle, onSuccess }) {\r\n   const navigate = useNavigate(); // ✅ Hook initialized\r\n@@ -38,9 +38,9 @@\n       if (res.ok) {\r\n         localStorage.setItem(\"token\", data.token);\r\n         setLoginData(initialLogin);\r\n         if (onSuccess) onSuccess(data.user);\r\n-        navigate(\"/home\"); // ✅ Navigate to /home after login\r\n+        navigate(\"/home\"); // ✅ Redirect after successful login\r\n       } else {\r\n         alert(data.message || \"Login failed.\");\r\n       }\r\n     } catch (err) {\r\n@@ -52,8 +52,9 @@\n   return (\r\n     <div id=\"Container\">\r\n       <form className=\"form\" onSubmit={handleSubmit}>\r\n         <div id=\"login-lable\">Login</div>\r\n+\r\n         <input\r\n           className=\"form-content\"\r\n           type=\"text\"\r\n           name=\"email\"\r\n@@ -61,8 +62,9 @@\n           value={loginData.email}\r\n           onChange={handleChange}\r\n           required\r\n         />\r\n+\r\n         <input\r\n           className=\"form-content\"\r\n           type=\"password\"\r\n           name=\"password\"\r\n@@ -73,9 +75,11 @@\n           value={loginData.password}\r\n           onChange={handleChange}\r\n           required\r\n         />\r\n+\r\n         <button type=\"submit\">Continue</button>\r\n+\r\n         <button type=\"button\" style={{ marginTop: \"1em\" }} onClick={onToggle}>\r\n           Register\r\n         </button>\r\n       </form>\r\n@@ -107,8 +111,8 @@\n           </defs>\r\n         </svg>\r\n       </div>\r\n \r\n-      <div id=\"emiter\">{/* Emitter SVG here if needed */}</div>\r\n+      <div id=\"emiter\">{/* Optional additional SVG or animation */}</div>\r\n     </div>\r\n   );\r\n }\r\n"
                },
                {
                    "date": 1753700319709,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n import React, { useState, useEffect } from \"react\";\r\n import { useNavigate } from \"react-router-dom\"; // ✅ Navigation hook\r\n import \"./Login.css\";\r\n \r\n-export default function Login({ onToggle, onSuccess }) {\r\n+export default function Login({ onToggle }) {\r\n   const navigate = useNavigate(); // ✅ Hook initialized\r\n \r\n   const initialLogin = React.useMemo(\r\n     () => ({\r\n@@ -25,30 +25,38 @@\n       [e.target.name]: e.target.value,\r\n     }));\r\n   };\r\n \r\n-  const handleSubmit = async (e) => {\r\n-    e.preventDefault();\r\n-    try {\r\n-      const res = await fetch(\"http://localhost:5000/api/auth/login\", {\r\n-        method: \"POST\",\r\n-        headers: { \"Content-Type\": \"application/json\" },\r\n-        body: JSON.stringify(loginData),\r\n-      });\r\n-      const data = await res.json();\r\n-      if (res.ok) {\r\n-        localStorage.setItem(\"token\", data.token);\r\n-        setLoginData(initialLogin);\r\n-        if (onSuccess) onSuccess(data.user);\r\n-        navigate(\"/home\"); // ✅ Redirect after successful login\r\n-      } else {\r\n-        alert(data.message || \"Login failed.\");\r\n-      }\r\n-    } catch (err) {\r\n-      console.error(err);\r\n-      alert(\"Network error.\");\r\n+ const handleSubmit = async (e) => {\r\n+  e.preventDefault();\r\n+  try {\r\n+    const res = await fetch(\"http://localhost:5000/api/auth/login\", {\r\n+      method: \"POST\",\r\n+      headers: { \"Content-Type\": \"application/json\" },\r\n+      body: JSON.stringify(loginData),\r\n+    });\r\n+    const data = await res.json();\r\n+    \r\n+    if (res.ok) {\r\n+      localStorage.setItem(\"token\", data.token);\r\n+      // Store minimal user data in localStorage\r\n+      localStorage.setItem(\"userData\", JSON.stringify({\r\n+        fullNames: data.user.fullNames,\r\n+        familyName: data.user.familyName,\r\n+        email: data.user.email,\r\n+        profileImage: data.user.profileImage\r\n+      }));\r\n+      \r\n+      setLoginData(initialLogin);\r\n+      navigate(\"/home\");\r\n+    } else {\r\n+      alert(data.message || \"Login failed.\");\r\n     }\r\n-  };\r\n+  } catch (err) {\r\n+    console.error(err);\r\n+    alert(\"Network error.\");\r\n+  }\r\n+};\r\n \r\n   return (\r\n     <div id=\"Container\">\r\n       <form className=\"form\" onSubmit={handleSubmit}>\r\n"
                },
                {
                    "date": 1753700425354,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n import React, { useState, useEffect } from \"react\";\r\n import { useNavigate } from \"react-router-dom\"; // ✅ Navigation hook\r\n import \"./Login.css\";\r\n \r\n-export default function Login({ onToggle }) {\r\n+export default function Login({ onToggle, onSuccess }) {\r\n   const navigate = useNavigate(); // ✅ Hook initialized\r\n \r\n   const initialLogin = React.useMemo(\r\n     () => ({\r\n@@ -25,38 +25,30 @@\n       [e.target.name]: e.target.value,\r\n     }));\r\n   };\r\n \r\n- const handleSubmit = async (e) => {\r\n-  e.preventDefault();\r\n-  try {\r\n-    const res = await fetch(\"http://localhost:5000/api/auth/login\", {\r\n-      method: \"POST\",\r\n-      headers: { \"Content-Type\": \"application/json\" },\r\n-      body: JSON.stringify(loginData),\r\n-    });\r\n-    const data = await res.json();\r\n-    \r\n-    if (res.ok) {\r\n-      localStorage.setItem(\"token\", data.token);\r\n-      // Store minimal user data in localStorage\r\n-      localStorage.setItem(\"userData\", JSON.stringify({\r\n-        fullNames: data.user.fullNames,\r\n-        familyName: data.user.familyName,\r\n-        email: data.user.email,\r\n-        profileImage: data.user.profileImage\r\n-      }));\r\n-      \r\n-      setLoginData(initialLogin);\r\n-      navigate(\"/home\");\r\n-    } else {\r\n-      alert(data.message || \"Login failed.\");\r\n+  const handleSubmit = async (e) => {\r\n+    e.preventDefault();\r\n+    try {\r\n+      const res = await fetch(\"http://localhost:5000/api/auth/login\", {\r\n+        method: \"POST\",\r\n+        headers: { \"Content-Type\": \"application/json\" },\r\n+        body: JSON.stringify(loginData),\r\n+      });\r\n+      const data = await res.json();\r\n+      if (res.ok) {\r\n+        localStorage.setItem(\"token\", data.token);\r\n+        setLoginData(initialLogin);\r\n+        if (onSuccess) onSuccess(data.user);\r\n+        navigate(\"/home\"); // ✅ Redirect after successful login\r\n+      } else {\r\n+        alert(data.message || \"Login failed.\");\r\n+      }\r\n+    } catch (err) {\r\n+      console.error(err);\r\n+      alert(\"Network error.\");\r\n     }\r\n-  } catch (err) {\r\n-    console.error(err);\r\n-    alert(\"Network error.\");\r\n-  }\r\n-};\r\n+  };\r\n \r\n   return (\r\n     <div id=\"Container\">\r\n       <form className=\"form\" onSubmit={handleSubmit}>\r\n"
                },
                {
                    "date": 1753700497934,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,9 +38,10 @@\n       if (res.ok) {\r\n         localStorage.setItem(\"token\", data.token);\r\n         setLoginData(initialLogin);\r\n         if (onSuccess) onSuccess(data.user);\r\n-        navigate(\"/home\"); // ✅ Redirect after successful login\r\n+        navigate(\"/home\"); \r\n+        console.log(navigate)// ✅ Redirect after successful login\r\n       } else {\r\n         alert(data.message || \"Login failed.\");\r\n       }\r\n     } catch (err) {\r\n"
                },
                {
                    "date": 1753700527115,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -39,9 +39,9 @@\n         localStorage.setItem(\"token\", data.token);\r\n         setLoginData(initialLogin);\r\n         if (onSuccess) onSuccess(data.user);\r\n         navigate(\"/home\"); \r\n-        console.log(navigate)// ✅ Redirect after successful login\r\n+        console.log(data)// ✅ Redirect after successful login\r\n       } else {\r\n         alert(data.message || \"Login failed.\");\r\n       }\r\n     } catch (err) {\r\n"
                },
                {
                    "date": 1753700560668,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -38,10 +38,9 @@\n       if (res.ok) {\r\n         localStorage.setItem(\"token\", data.token);\r\n         setLoginData(initialLogin);\r\n         if (onSuccess) onSuccess(data.user);\r\n-        navigate(\"/home\"); \r\n-        console.log(data)// ✅ Redirect after successful login\r\n+        navigate(\"/home\"); // ✅ Redirect after successful login\r\n       } else {\r\n         alert(data.message || \"Login failed.\");\r\n       }\r\n     } catch (err) {\r\n"
                }
            ],
            "date": 1753432694237,
            "name": "Commit-0",
            "content": "import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\"; // ✅ Added\r\nimport \"./Login.css\";\r\n\r\nexport default function Login({ onToggle, onSuccess }) {\r\n  const navigate = useNavigate(); // ✅ Hook initialized\r\n\r\n  const initialLogin = React.useMemo(\r\n    () => ({\r\n      email: \"\",\r\n      password: \"\",\r\n    }),\r\n    []\r\n  );\r\n\r\n  const [loginData, setLoginData] = useState(initialLogin);\r\n\r\n  useEffect(() => {\r\n    setLoginData(initialLogin);\r\n  }, [initialLogin]);\r\n\r\n  const handleChange = (e) => {\r\n    setLoginData((prev) => ({\r\n      ...prev,\r\n      [e.target.name]: e.target.value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const res = await fetch(\"http://localhost:5000/api/auth/login\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(loginData),\r\n      });\r\n      const data = await res.json();\r\n      if (res.ok) {\r\n        localStorage.setItem(\"token\", data.token);\r\n        setLoginData(initialLogin);\r\n        if (onSuccess) onSuccess(data.user);\r\n        navigate(\"/home\"); // ✅ Navigate to /home after login\r\n      } else {\r\n        alert(data.message || \"Login failed.\");\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert(\"Network error.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div id=\"Container\">\r\n      <form className=\"form\" onSubmit={handleSubmit}>\r\n        <div id=\"login-lable\">Login</div>\r\n        <input\r\n          className=\"form-content\"\r\n          type=\"text\"\r\n          name=\"email\"\r\n          placeholder=\"Email\"\r\n          value={loginData.email}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <input\r\n          className=\"form-content\"\r\n          type=\"password\"\r\n          name=\"password\"\r\n          placeholder=\"Password\"\r\n          autocomplete=\"new-password\"\r\n          autocorrect=\"off\"\r\n          autocapitalize=\"off\"\r\n          value={loginData.password}\r\n          onChange={handleChange}\r\n          required\r\n        />\r\n        <button type=\"submit\">Continue</button>\r\n        <button type=\"button\" style={{ marginTop: \"1em\" }} onClick={onToggle}>\r\n          Register\r\n        </button>\r\n      </form>\r\n\r\n      <div id=\"rays\">\r\n        <svg\r\n          fill=\"none\"\r\n          viewBox=\"0 0 299 152\"\r\n          height=\"9em\"\r\n          width=\"18em\"\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n        >\r\n          <path\r\n            fill=\"url(#paint0_linear_8_3)\"\r\n            d=\"M149.5 152H133.42L0 0H149.5L299 0L165.58 152H149.5Z\"\r\n          ></path>\r\n          <defs>\r\n            <linearGradient\r\n              gradientUnits=\"userSpaceOnUse\"\r\n              y2=\"12.1981\"\r\n              x2=\"150.12\"\r\n              y1=\"152\"\r\n              x1=\"149.5\"\r\n              id=\"paint0_linear_8_3\"\r\n            >\r\n              <stop stopColor=\"#00E0FF\"></stop>\r\n              <stop stopOpacity=\"0\" stopColor=\"#65EDFF\" offset=\"1\"></stop>\r\n            </linearGradient>\r\n          </defs>\r\n        </svg>\r\n      </div>\r\n\r\n      <div id=\"emiter\">{/* Emitter SVG here if needed */}</div>\r\n    </div>\r\n  );\r\n}\r\n"
        }
    ]
}